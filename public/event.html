<!DOCTYPE html>
<html>
	<head>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/css/bootstrap.min.css"
			rel="stylesheet"
			integrity="sha384-giJF6kkoqNQ00vy+HMDP7azOuL0xtbfIcaT9wjKHr8RbDVddVHyTfAAsrekwKmP1"
			crossorigin="anonymous"
		/>
	</head>
	<body>
		<div class="container">
			<h2 class="mb-5" style="text-align: center">Đăng Phim</h2>
			<form>
				<div class="row mb-2">
					<label for="title" class="col-2 col-xl-1">Tiêu đề:</label>
					<input type="text" id="title" class="col" />
				</div>
				<div class="row mb-2">
					<label for="poster" class="col-2 col-xl-1">Poster URL:</label>
					<input type="url" id="poster" class="col" />
				</div>
				<div class="row mb-2">
					<label for="content" class="col-2 col-xl-1">Nội dung:</label>
					<input type="url" id="content" class="col" />
				</div>
				<div class="row mt-5">
					<button
						class="btn btn-primary mx-auto col-2"
						onclick="submitHandle(event)"
					>
						Tạo mới
					</button>
				</div>
			</form>
		</div>

		<script>
			const apiUrl = '/api/events/';

			const title = document.getElementById('title');
			const poster = document.getElementById('poster');
			const content = document.getElementById('content');

			const submitHandle = (e) => {
				e.preventDefault();
				const data = {
					title: title.value.toLowerCase(),
					poster: poster.value,
					content: content.value.trim(),
				};
				console.log(data);

				fetch(apiUrl, {
					method: 'POST',
					headers: {
						'Content-Type': 'application/json',
					},
					body: JSON.stringify(data),
				});
			};
		</script>
	</body>
</html>
